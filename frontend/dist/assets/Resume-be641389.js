import{_ as le,m as ae,a3 as oe,r as x,K as se,o as te,j as g,a4 as ne,S as re,k as m,n as f,I as Q,w as n,Q as L,t as a,a5 as ie,D as k,B as de,q as s,F as C,v as E,G as p,y as b}from"./index-3d929bd0.js";import{r as O}from"./request-9595d616.js";const ce={name:"ResumeManage",components:{Medal:ae,Refresh:oe},setup(){const z=x(!1),o=x(null),w=x(!1),t=x(!1),T=x(!1),S=x(!1),j=x([]),u=se({basicInfo:{name:"",phone:"",email:"",location:"",careerObjective:""},education:[],workExperience:[],projectExperience:[],skills:[],certificates:[],isPublic:!1}),F={"basicInfo.name":[{required:!0,message:"请输入姓名",trigger:"blur"}],"basicInfo.phone":[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号",trigger:"blur"}],"basicInfo.email":[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},P=r=>Array.isArray(r)?r.map(e=>e==null?"":String(e).trim()).filter(Boolean):typeof r=="string"?r.split(/\r?\n|；|;|、|，|,/).map(e=>e.trim()).filter(Boolean):[],v=r=>Array.isArray(r)?r.map(e=>{const d=e&&typeof e=="object"?e:{};return{company:d.company||"",position:d.position||"",startDate:d.startDate||"",endDate:d.endDate||"",responsibilities:P(d.responsibilities)}}):[],W=r=>Array.isArray(r)?r.map(e=>{const d=e&&typeof e=="object"?e:{};return{name:d.name||"",role:d.role||"",startDate:d.startDate||"",endDate:d.endDate||"",description:d.description||"",achievements:P(d.achievements)}}):[],N=r=>Array.isArray(r)?r.map(e=>{var d,h,D,I;return{company:((h=(d=e==null?void 0:e.company)==null?void 0:d.trim)==null?void 0:h.call(d))||"",position:((I=(D=e==null?void 0:e.position)==null?void 0:D.trim)==null?void 0:I.call(D))||"",startDate:(e==null?void 0:e.startDate)||"",endDate:(e==null?void 0:e.endDate)||"",responsibilities:P(e==null?void 0:e.responsibilities)}}).filter(e=>e.company||e.position||e.startDate||e.endDate||e.responsibilities.length>0):[],q=r=>Array.isArray(r)?r.map(e=>{var d,h,D,I,Y,H;return{name:((h=(d=e==null?void 0:e.name)==null?void 0:d.trim)==null?void 0:h.call(d))||"",role:((I=(D=e==null?void 0:e.role)==null?void 0:D.trim)==null?void 0:I.call(D))||"",startDate:(e==null?void 0:e.startDate)||"",endDate:(e==null?void 0:e.endDate)||"",description:((H=(Y=e==null?void 0:e.description)==null?void 0:Y.trim)==null?void 0:H.call(Y))||"",achievements:P(e==null?void 0:e.achievements)}}).filter(e=>e.name||e.role||e.startDate||e.endDate||e.description||e.achievements.length>0):[],y=()=>{const r=N(u.workExperience),e=q(u.projectExperience);return u.workExperience=r,u.projectExperience=e,{basicInfo:u.basicInfo,education:u.education,workExperience:r,projectExperience:e,skills:u.skills,certificates:u.certificates,isPublic:u.isPublic}},_=async()=>{t.value=!0;try{const r=await O.get("/admin/certification/certificate/by-user",{params:{userId:Number(ie("/personal")||0)}});if(r.data&&r.data.length>0){const e=u.certificates.map(h=>h.name),d=r.data.filter(h=>!e.includes(h.name));d.length>0?(j.value=d.map(h=>({id:h.id,name:h.name,level:h.level,date:h.issueDate||new Date().toISOString().split("T")[0]})),S.value=!0,k.success(`发现 ${d.length} 项新认证可以同步`)):k.info("您的简历已包含所有认证信息")}else k.info("暂无已通过的认证")}catch(r){console.error("检查认证失败:",r),k.error("检查认证失败")}finally{t.value=!1}},M=async()=>{w.value=!0;try{const r=j.value.map(d=>({name:`${d.name} (${d.level})`,date:d.date}));u.certificates=[...u.certificates,...r];const e=y();await O.put("/resume",e),S.value=!1,j.value=[],k.success("认证信息已同步到简历")}catch(r){console.error("同步认证失败:",r),k.error("同步失败，请重试")}finally{w.value=!1}},R=()=>{S.value=!1},B=async()=>{var r;w.value=!0;try{const e=await O.get("/resume/current");e.data&&(Object.assign(u.basicInfo,e.data.basicInfo||{}),u.education=e.data.education||[],u.workExperience=v(e.data.workExperience||[]),u.projectExperience=W(e.data.projectExperience||[]),u.skills=e.data.skills||[],u.certificates=e.data.certificates||[],u.isPublic=e.data.isPublic||!1),_()}catch(e){console.error("加载简历失败:",e),((r=e.response)==null?void 0:r.status)!==404&&k.error("加载简历失败，请刷新重试")}finally{w.value=!1}},U=()=>{z.value=!0},G=async()=>{if(!o.value){k.error("表单未加载");return}o.value.validate(async r=>{if(!r)return k.error("请填写必填项"),!1;w.value=!0;try{const e=y();await O.put("/resume",e),z.value=!1,k.success("简历保存成功")}catch(e){console.error("保存简历失败:",e),k.error(e.message||"保存简历失败，请重试")}finally{w.value=!1}})},K=()=>{z.value=!1,B()},l=async()=>{if(T.value)return;T.value=!0;const r=new AbortController,e=setTimeout(()=>r.abort(),2e4);try{const d=de("/personal"),h=await fetch("/api/resume/export",{method:"GET",headers:{Authorization:`Bearer ${d}`},signal:r.signal});if(!h.ok)throw new Error("导出失败");const D=await h.blob(),I=window.URL.createObjectURL(D),Y=document.createElement("a");Y.href=I,Y.download=`简历_${u.basicInfo.name||"未命名"}_${new Date().getTime()}.pdf`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),window.URL.revokeObjectURL(I),k.success("简历导出成功")}catch(d){console.error("导出简历失败:",d),d.name==="AbortError"?k.error("导出超时，请稍后重试"):k.error("导出简历失败，请重试")}finally{clearTimeout(e),T.value=!1}},i=async()=>{w.value=!0;try{await O.put("/resume/public",{isPublic:u.isPublic}),k.success(u.isPublic?"简历已设为公开":"简历已设为私有")}catch(r){console.error("设置简历公开状态失败:",r),u.isPublic=!u.isPublic,k.error("设置失败，请重试")}finally{w.value=!1}};te(()=>{B()});const c=()=>{u.education.push({school:"",major:"",degree:"",startDate:"",endDate:"",description:""})},V=r=>{u.education.length>1?u.education.splice(r,1):k.warning("至少保留一条教育经历")},A=()=>({company:"",position:"",startDate:"",endDate:"",responsibilities:[""]}),J=()=>{u.workExperience.push(A())},X=r=>{u.workExperience.splice(r,1)},Z=r=>{const e=u.workExperience[r];e&&(Array.isArray(e.responsibilities)||(e.responsibilities=[]),e.responsibilities.push(""))},$=(r,e)=>{const d=u.workExperience[r];!d||!Array.isArray(d.responsibilities)||d.responsibilities.splice(e,1)},ee=()=>({name:"",role:"",startDate:"",endDate:"",description:"",achievements:[""]});return{isEditing:z,loading:w,resume:u,resumeForm:o,resumeRules:F,loadResume:B,editResume:U,saveResume:G,cancelEdit:K,exportResume:l,togglePublic:i,addEducation:c,removeEducation:V,addWorkExperience:J,removeWorkExperience:X,addResponsibility:Z,removeResponsibility:$,addProjectExperience:()=>{u.projectExperience.push(ee())},removeProjectExperience:r=>{u.projectExperience.splice(r,1)},addAchievement:r=>{const e=u.projectExperience[r];e&&(Array.isArray(e.achievements)||(e.achievements=[]),e.achievements.push(""))},removeAchievement:(r,e)=>{const d=u.projectExperience[r];!d||!Array.isArray(d.achievements)||d.achievements.splice(e,1)},checkingCerts:t,exportLoading:T,showCertSyncTip:S,newCertifications:j,checkCertifications:_,syncCertifications:M,dismissCertSyncTip:R}}},ue={class:"resume-container"},me={class:"cert-sync-content"},pe={class:"cert-list"},fe={class:"cert-sync-actions"},_e={class:"card-header"},ve={class:"header-actions"},be={key:1,class:"resume-preview"},ye={class:"resume-header"},he={class:"contact-info"},ke={class:"career-objective"},Ve={class:"resume-section"},ge={class:"edu-header"},Ce={class:"school"},Ee={class:"period"},De={class:"edu-details"},we={class:"major"},Ye={class:"degree"},Ue={class:"edu-desc"},Ie={class:"resume-section"},je={class:"work-header"},Me={class:"company"},Ae={class:"period"},xe={class:"work-details"},Pe={class:"position"},Re={class:"work-responsibilities"},ze={class:"resume-section"},Te={class:"project-header"},Se={class:"project-name"},Be={class:"period"},Oe={class:"project-details"},Fe={class:"role"},Le={class:"project-desc"},We={class:"project-achievements"},Ne={class:"resume-section"},qe={class:"skills-certificates"},Ge={class:"skills"},Ke={class:"skill-tags"},Qe={class:"certificates"},He={class:"cert-name"},Je={class:"cert-date"},Xe={class:"resume-actions"},Ze={key:2,class:"resume-edit"},$e={class:"section-header"},el={class:"group-header"},ll={class:"date-range"},al={class:"section-header"},ol={key:0,class:"empty-edit-tip"},sl={class:"group-header"},tl={class:"date-range"},nl={class:"nested-list"},rl={class:"section-header"},il={key:0,class:"empty-edit-tip"},dl={class:"group-header"},cl={class:"date-range"},ul={class:"nested-list"},ml={class:"form-actions"};function pl(z,o,w,t,T,S){const j=g("Medal"),u=g("el-icon"),F=g("el-tag"),P=g("Refresh"),v=g("el-button"),W=g("el-alert"),N=g("el-empty"),q=g("el-switch"),y=g("el-input"),_=g("el-form-item"),M=g("el-card"),R=g("el-option"),B=g("el-select"),U=g("el-date-picker"),G=g("el-form"),K=ne("loading");return re((m(),f("div",ue,[t.showCertSyncTip?(m(),Q(W,{key:0,title:"发现新的认证信息",type:"success",description:`您有 ${t.newCertifications.length} 项新认证可以同步到简历中`,"show-icon":"",closable:!0,onClose:t.dismissCertSyncTip,class:"cert-sync-alert"},{default:n(()=>[s("div",me,[s("div",pe,[(m(!0),f(C,null,E(t.newCertifications,l=>(m(),f("div",{key:l.id,class:"cert-item-tip"},[a(u,null,{default:n(()=>[a(j)]),_:1}),s("span",null,p(l.name)+" - "+p(l.level),1),a(F,{size:"small",type:"success"},{default:n(()=>[b(p(l.date),1)]),_:2},1024)]))),128))]),s("div",fe,[a(v,{type:"primary",size:"small",onClick:t.syncCertifications},{default:n(()=>[a(u,null,{default:n(()=>[a(P)]),_:1}),o[6]||(o[6]=b(" 立即同步 ",-1))]),_:1},8,["onClick"]),a(v,{size:"small",onClick:t.dismissCertSyncTip},{default:n(()=>[...o[7]||(o[7]=[b("稍后处理",-1)])]),_:1},8,["onClick"])])])]),_:1},8,["description","onClose"])):L("",!0),a(M,{shadow:"hover"},{header:n(()=>[s("div",_e,[o[10]||(o[10]=s("h2",null,"简历管理",-1)),s("div",ve,[a(v,{type:"success",onClick:t.checkCertifications,loading:t.checkingCerts},{default:n(()=>[a(u,null,{default:n(()=>[a(j)]),_:1}),o[8]||(o[8]=b(" 检查认证更新 ",-1))]),_:1},8,["onClick","loading"]),a(v,{type:"primary",onClick:t.editResume,disabled:t.loading},{default:n(()=>[...o[9]||(o[9]=[b("编辑简历",-1)])]),_:1},8,["onClick","disabled"])])])]),default:n(()=>[!t.loading&&!t.resume.basicInfo.name&&!t.isEditing?(m(),Q(N,{key:0,description:"还没有简历，点击上方编辑简历按钮创建您的简历"},{default:n(()=>[a(v,{type:"primary",onClick:t.editResume},{default:n(()=>[...o[11]||(o[11]=[b("立即创建",-1)])]),_:1},8,["onClick"])]),_:1})):L("",!0),!t.isEditing&&t.resume.basicInfo.name?(m(),f("div",be,[s("div",ye,[s("h1",null,p(t.resume.basicInfo.name),1),s("p",he,p(t.resume.basicInfo.phone)+" | "+p(t.resume.basicInfo.email)+" | "+p(t.resume.basicInfo.location),1),s("p",ke,p(t.resume.basicInfo.careerObjective),1)]),s("div",Ve,[o[12]||(o[12]=s("h3",null,"教育背景",-1)),(m(!0),f(C,null,E(t.resume.education,(l,i)=>(m(),f("div",{key:i,class:"edu-item"},[s("div",ge,[s("span",Ce,p(l.school),1),s("span",Ee,p(l.startDate)+" - "+p(l.endDate),1)]),s("div",De,[s("span",we,p(l.major),1),s("span",Ye,p(l.degree),1)]),s("p",Ue,p(l.description),1)]))),128))]),s("div",Ie,[o[13]||(o[13]=s("h3",null,"工作经历",-1)),(m(!0),f(C,null,E(t.resume.workExperience,(l,i)=>(m(),f("div",{key:i,class:"work-item"},[s("div",je,[s("span",Me,p(l.company),1),s("span",Ae,p(l.startDate)+" - "+p(l.endDate),1)]),s("div",xe,[s("span",Pe,p(l.position),1)]),s("ul",Re,[(m(!0),f(C,null,E(l.responsibilities,(c,V)=>(m(),f("li",{key:V},p(c),1))),128))])]))),128))]),s("div",ze,[o[14]||(o[14]=s("h3",null,"项目经验",-1)),(m(!0),f(C,null,E(t.resume.projectExperience,(l,i)=>(m(),f("div",{key:i,class:"project-item"},[s("div",Te,[s("span",Se,p(l.name),1),s("span",Be,p(l.startDate)+" - "+p(l.endDate),1)]),s("div",Oe,[s("span",Fe,p(l.role),1)]),s("p",Le,p(l.description),1),s("ul",We,[(m(!0),f(C,null,E(l.achievements,(c,V)=>(m(),f("li",{key:V},p(c),1))),128))])]))),128))]),s("div",Ne,[o[17]||(o[17]=s("h3",null,"技能证书",-1)),s("div",qe,[s("div",Ge,[o[15]||(o[15]=s("h4",null,"专业技能",-1)),s("div",Ke,[(m(!0),f(C,null,E(t.resume.skills,(l,i)=>(m(),Q(F,{key:i,size:"small",type:"info"},{default:n(()=>[b(p(l),1)]),_:2},1024))),128))])]),s("div",Qe,[o[16]||(o[16]=s("h4",null,"认证证书",-1)),(m(!0),f(C,null,E(t.resume.certificates,(l,i)=>(m(),f("div",{key:i,class:"cert-item"},[s("span",He,p(l.name),1),s("span",Je,p(l.date),1)]))),128))])])]),s("div",Xe,[a(v,{type:"success",onClick:t.exportResume,loading:t.exportLoading},{default:n(()=>[...o[18]||(o[18]=[b("导出PDF",-1)])]),_:1},8,["onClick","loading"]),a(q,{modelValue:t.resume.isPublic,"onUpdate:modelValue":o[0]||(o[0]=l=>t.resume.isPublic=l),"active-text":"公开","inactive-text":"私有",onChange:t.togglePublic},null,8,["modelValue","onChange"])])])):(m(),f("div",Ze,[a(G,{ref:"resumeForm",model:t.resume,"label-width":"100px",rules:t.resumeRules},{default:n(()=>[a(M,{shadow:"hover",class:"edit-section"},{header:n(()=>[...o[19]||(o[19]=[s("h3",null,"基本信息",-1)])]),default:n(()=>[a(_,{label:"姓名",prop:"basicInfo.name"},{default:n(()=>[a(y,{modelValue:t.resume.basicInfo.name,"onUpdate:modelValue":o[1]||(o[1]=l=>t.resume.basicInfo.name=l)},null,8,["modelValue"])]),_:1}),a(_,{label:"手机号",prop:"basicInfo.phone"},{default:n(()=>[a(y,{modelValue:t.resume.basicInfo.phone,"onUpdate:modelValue":o[2]||(o[2]=l=>t.resume.basicInfo.phone=l)},null,8,["modelValue"])]),_:1}),a(_,{label:"邮箱",prop:"basicInfo.email"},{default:n(()=>[a(y,{modelValue:t.resume.basicInfo.email,"onUpdate:modelValue":o[3]||(o[3]=l=>t.resume.basicInfo.email=l)},null,8,["modelValue"])]),_:1}),a(_,{label:"所在地"},{default:n(()=>[a(y,{modelValue:t.resume.basicInfo.location,"onUpdate:modelValue":o[4]||(o[4]=l=>t.resume.basicInfo.location=l)},null,8,["modelValue"])]),_:1}),a(_,{label:"职业目标"},{default:n(()=>[a(y,{modelValue:t.resume.basicInfo.careerObjective,"onUpdate:modelValue":o[5]||(o[5]=l=>t.resume.basicInfo.careerObjective=l),type:"textarea",rows:3},null,8,["modelValue"])]),_:1})]),_:1}),a(M,{shadow:"hover",class:"edit-section"},{header:n(()=>[s("div",$e,[o[21]||(o[21]=s("h3",null,"教育背景",-1)),a(v,{type:"primary",size:"small",onClick:t.addEducation},{default:n(()=>[...o[20]||(o[20]=[b("添加教育经历",-1)])]),_:1},8,["onClick"])])]),default:n(()=>[(m(!0),f(C,null,E(t.resume.education,(l,i)=>(m(),f("div",{key:i,class:"form-item-group"},[s("div",el,[s("span",null,"教育经历 "+p(i+1),1),a(v,{type:"danger",size:"small",onClick:c=>t.removeEducation(i)},{default:n(()=>[...o[22]||(o[22]=[b("删除",-1)])]),_:1},8,["onClick"])]),a(_,{label:"学校 "+(i+1)},{default:n(()=>[a(y,{modelValue:l.school,"onUpdate:modelValue":c=>l.school=c},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]),a(_,{label:"专业 "+(i+1)},{default:n(()=>[a(y,{modelValue:l.major,"onUpdate:modelValue":c=>l.major=c},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]),a(_,{label:"学历 "+(i+1)},{default:n(()=>[a(B,{modelValue:l.degree,"onUpdate:modelValue":c=>l.degree=c,placeholder:"请选择学历"},{default:n(()=>[a(R,{label:"专科",value:"专科"}),a(R,{label:"本科",value:"本科"}),a(R,{label:"硕士",value:"硕士"}),a(R,{label:"博士",value:"博士"})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]),s("div",ll,[a(_,{label:"开始时间 "+(i+1)},{default:n(()=>[a(U,{modelValue:l.startDate,"onUpdate:modelValue":c=>l.startDate=c,type:"date",format:"YYYY-MM","value-format":"YYYY-MM"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]),a(_,{label:"结束时间 "+(i+1)},{default:n(()=>[a(U,{modelValue:l.endDate,"onUpdate:modelValue":c=>l.endDate=c,type:"date",format:"YYYY-MM","value-format":"YYYY-MM"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])]),a(_,{label:"描述 "+(i+1)},{default:n(()=>[a(y,{modelValue:l.description,"onUpdate:modelValue":c=>l.description=c,type:"textarea",rows:2},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])]))),128))]),_:1}),a(M,{shadow:"hover",class:"edit-section"},{header:n(()=>[s("div",al,[o[24]||(o[24]=s("h3",null,"工作经历",-1)),a(v,{type:"primary",size:"small",onClick:t.addWorkExperience},{default:n(()=>[...o[23]||(o[23]=[b("添加工作经历",-1)])]),_:1},8,["onClick"])])]),default:n(()=>[t.resume.workExperience.length===0?(m(),f("div",ol," 暂无工作经历，点击右上角按钮添加 ")):L("",!0),(m(!0),f(C,null,E(t.resume.workExperience,(l,i)=>(m(),f("div",{key:i,class:"form-item-group"},[s("div",sl,[s("span",null,"工作经历 "+p(i+1),1),a(v,{type:"danger",size:"small",onClick:c=>t.removeWorkExperience(i)},{default:n(()=>[...o[25]||(o[25]=[b("删除",-1)])]),_:1},8,["onClick"])]),a(_,{label:"公司名称 "+(i+1)},{default:n(()=>[a(y,{modelValue:l.company,"onUpdate:modelValue":c=>l.company=c},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]),a(_,{label:"职位名称 "+(i+1)},{default:n(()=>[a(y,{modelValue:l.position,"onUpdate:modelValue":c=>l.position=c},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]),s("div",tl,[a(_,{label:"开始时间 "+(i+1)},{default:n(()=>[a(U,{modelValue:l.startDate,"onUpdate:modelValue":c=>l.startDate=c,type:"date",format:"YYYY-MM","value-format":"YYYY-MM"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]),a(_,{label:"结束时间 "+(i+1)},{default:n(()=>[a(U,{modelValue:l.endDate,"onUpdate:modelValue":c=>l.endDate=c,type:"date",format:"YYYY-MM","value-format":"YYYY-MM"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])]),a(_,{label:"工作职责 "+(i+1)},{default:n(()=>[s("div",nl,[(m(!0),f(C,null,E(l.responsibilities,(c,V)=>(m(),f("div",{key:`${i}-${V}`,class:"nested-item-row"},[a(y,{modelValue:l.responsibilities[V],"onUpdate:modelValue":A=>l.responsibilities[V]=A,placeholder:"请输入工作职责"},null,8,["modelValue","onUpdate:modelValue"]),a(v,{type:"danger",text:"",onClick:A=>t.removeResponsibility(i,V)},{default:n(()=>[...o[26]||(o[26]=[b("删除",-1)])]),_:1},8,["onClick"])]))),128)),a(v,{type:"primary",link:"",onClick:c=>t.addResponsibility(i)},{default:n(()=>[...o[27]||(o[27]=[b("+ 添加职责",-1)])]),_:1},8,["onClick"])])]),_:2},1032,["label"])]))),128))]),_:1}),a(M,{shadow:"hover",class:"edit-section"},{header:n(()=>[s("div",rl,[o[29]||(o[29]=s("h3",null,"项目经验",-1)),a(v,{type:"primary",size:"small",onClick:t.addProjectExperience},{default:n(()=>[...o[28]||(o[28]=[b("添加项目经验",-1)])]),_:1},8,["onClick"])])]),default:n(()=>[t.resume.projectExperience.length===0?(m(),f("div",il," 暂无项目经验，点击右上角按钮添加 ")):L("",!0),(m(!0),f(C,null,E(t.resume.projectExperience,(l,i)=>(m(),f("div",{key:i,class:"form-item-group"},[s("div",dl,[s("span",null,"项目经验 "+p(i+1),1),a(v,{type:"danger",size:"small",onClick:c=>t.removeProjectExperience(i)},{default:n(()=>[...o[30]||(o[30]=[b("删除",-1)])]),_:1},8,["onClick"])]),a(_,{label:"项目名称 "+(i+1)},{default:n(()=>[a(y,{modelValue:l.name,"onUpdate:modelValue":c=>l.name=c},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]),a(_,{label:"担任角色 "+(i+1)},{default:n(()=>[a(y,{modelValue:l.role,"onUpdate:modelValue":c=>l.role=c},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]),s("div",cl,[a(_,{label:"开始时间 "+(i+1)},{default:n(()=>[a(U,{modelValue:l.startDate,"onUpdate:modelValue":c=>l.startDate=c,type:"date",format:"YYYY-MM","value-format":"YYYY-MM"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]),a(_,{label:"结束时间 "+(i+1)},{default:n(()=>[a(U,{modelValue:l.endDate,"onUpdate:modelValue":c=>l.endDate=c,type:"date",format:"YYYY-MM","value-format":"YYYY-MM"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])]),a(_,{label:"项目描述 "+(i+1)},{default:n(()=>[a(y,{modelValue:l.description,"onUpdate:modelValue":c=>l.description=c,type:"textarea",rows:3},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]),a(_,{label:"项目成果 "+(i+1)},{default:n(()=>[s("div",ul,[(m(!0),f(C,null,E(l.achievements,(c,V)=>(m(),f("div",{key:`${i}-${V}`,class:"nested-item-row"},[a(y,{modelValue:l.achievements[V],"onUpdate:modelValue":A=>l.achievements[V]=A,placeholder:"请输入项目成果"},null,8,["modelValue","onUpdate:modelValue"]),a(v,{type:"danger",text:"",onClick:A=>t.removeAchievement(i,V)},{default:n(()=>[...o[31]||(o[31]=[b("删除",-1)])]),_:1},8,["onClick"])]))),128)),a(v,{type:"primary",link:"",onClick:c=>t.addAchievement(i)},{default:n(()=>[...o[32]||(o[32]=[b("+ 添加成果",-1)])]),_:1},8,["onClick"])])]),_:2},1032,["label"])]))),128))]),_:1}),s("div",ml,[a(v,{type:"primary",onClick:t.saveResume},{default:n(()=>[...o[33]||(o[33]=[b("保存简历",-1)])]),_:1},8,["onClick"]),a(v,{onClick:t.cancelEdit},{default:n(()=>[...o[34]||(o[34]=[b("取消",-1)])]),_:1},8,["onClick"])])]),_:1},8,["model","rules"])]))]),_:1})])),[[K,t.loading]])}const kl=le(ce,[["render",pl],["__scopeId","data-v-5b383a74"]]);export{kl as default};
