import{_ as xe,r as _,K as Te,h as A,j as c,k as m,n as k,q as s,G as i,t as l,w as a,ai as ze,F as L,v as S,y as n,D as y,R as v,U as ae,I as V,Q as x,J as $e,ah as Ue,s as se,aE as Ke,l as je,b as Le,aF as Se,ak as he,aq as Ie,an as Fe,aG as h,aH as Ne,aI as Be,a6 as De}from"./index-3d929bd0.js";import{v as Ee}from"./enterprise-74c9325f.js";import"./request-9595d616.js";const Oe={class:"talent-search-container"},qe={class:"page-header"},Ae={class:"header-stats"},Ge={class:"stat-item"},Pe={class:"stat-num"},Re={class:"stat-item"},He={class:"stat-num"},Je={class:"stat-item"},Me={class:"stat-num"},Qe={class:"search-section"},We={class:"search-bar"},Xe={class:"quick-tags"},Ye={class:"filter-title"},Ze={class:"filter-grid"},el={class:"filter-item"},ll={class:"filter-item"},tl={class:"filter-item"},al={class:"filter-item"},sl={class:"filter-item"},ol={class:"filter-item"},nl={class:"filter-actions"},il={class:"result-header"},ul={class:"result-count"},dl={class:"sort-options"},rl={class:"talent-list"},cl={class:"talent-avatar"},vl={class:"talent-info"},pl={class:"talent-header"},_l={class:"talent-name"},ml={class:"talent-title"},fl={class:"talent-meta"},bl={class:"talent-skills"},yl={class:"talent-intro"},gl={class:"talent-actions"},kl={class:"salary-expect"},Vl={class:"salary-value"},Cl={class:"action-buttons"},wl={class:"collect-intention-row"},xl={key:0,class:"talent-note"},Tl={class:"pagination-wrapper"},zl={key:0,class:"resume-detail"},$l={class:"resume-header"},Ul={class:"resume-basic"},Kl={class:"job-title"},jl={class:"resume-tags"},Ll={class:"resume-actions"},Sl={__name:"TalentSearch",setup(hl){const I=_(""),F=_(""),G=_([]),P=_("match"),R=_(1),H=_(10),U=_(0),oe=_(0),ne=_(0),T=_(!1),ie=[],r=Te({jobType:"",certLevel:"",experience:"",education:"",salary:"",intention:""}),J=A(()=>Object.values(r).filter(o=>o).length),ue=A(()=>z.value.filter(o=>o.collected).length),M=A(()=>{let o=z.value;return T.value&&(o=o.filter(e=>e.collected)),r.intention&&(r.intention==="none"?o=o.filter(e=>!e.intention):o=o.filter(e=>e.intention===r.intention)),o}),z=_([]),N=_(!1),d=_(null),$=_(!1),K=_(""),B=_(null),de=o=>{F.value=F.value===o?"":o,D()},D=async()=>{try{y.info("正在搜索人才...");const o=await Ee(I.value,r.jobType,r.education,r.certLevel);o&&o.data?(z.value=o.data,U.value=o.data.length,y.success(`找到 ${o.data.length} 位人才`)):(z.value=[],U.value=0,y.info("未找到匹配的人才"))}catch(o){console.error("搜索人才失败:",o),z.value=[],U.value=0,y.error("搜索失败，请稍后重试")}},re=()=>{Object.keys(r).forEach(o=>r[o]="")},ce=()=>{y.success("筛选条件已应用")},Q=o=>({初级认证:"info",中级认证:"warning",高级认证:"success",专家认证:"danger"})[o]||"info",W=o=>({high:"success",medium:"warning",low:"info"})[o]||"info",E=o=>({high:"高意向",medium:"中意向",low:"低意向"})[o]||"",ve=o=>{d.value=o,N.value=!0},X=o=>{y.success(`已向 ${o.name} 发送面试邀请`)},Y=o=>{o.collected=!o.collected,y.success(o.collected?`已收藏 ${o.name}`:`已取消收藏 ${o.name}`)},pe=(o,e)=>{e==="none"?(o.intention="",y.info(`已清除 ${o.name} 的意向标记`)):(o.intention=e,y.success(`已将 ${o.name} 标记为${E(e)}`))},_e=o=>{B.value=o,K.value=o.note||"",$.value=!0},me=()=>{B.value&&(B.value.note=K.value,y.success("备注已保存")),$.value=!1};return(o,e)=>{var te;const p=c("el-icon"),Z=c("el-input"),f=c("el-button"),g=c("el-tag"),u=c("el-option"),C=c("el-select"),fe=c("el-collapse-item"),be=c("el-collapse"),O=c("el-radio-button"),ye=c("el-radio-group"),ee=c("el-avatar"),j=c("el-dropdown-item"),ge=c("el-dropdown-menu"),ke=c("el-dropdown"),Ve=c("el-pagination"),Ce=c("el-divider"),w=c("el-descriptions-item"),we=c("el-descriptions"),le=c("el-dialog");return m(),k("div",Oe,[s("div",qe,[e[21]||(e[21]=s("div",{class:"header-content"},[s("h1",null,"人才搜索"),s("p",{class:"subtitle"},"发现服装行业优秀人才，精准匹配岗位需求")],-1)),s("div",Ae,[s("div",Ge,[s("span",Pe,i(oe.value),1),e[18]||(e[18]=s("span",{class:"stat-label"},"认证人才",-1))]),s("div",Re,[s("span",He,i(ne.value),1),e[19]||(e[19]=s("span",{class:"stat-label"},"今日活跃",-1))]),s("div",Je,[s("span",Me,i(ue.value),1),e[20]||(e[20]=s("span",{class:"stat-label"},"已收藏",-1))])])]),s("div",Qe,[s("div",We,[l(Z,{modelValue:I.value,"onUpdate:modelValue":e[0]||(e[0]=t=>I.value=t),placeholder:"搜索姓名、技能、岗位...",size:"large",clearable:"",onKeyup:ze(D,["enter"])},{prefix:a(()=>[l(p,null,{default:a(()=>[l(v(Ue))]),_:1})]),_:1},8,["modelValue"]),l(f,{type:"primary",size:"large",onClick:D},{default:a(()=>[...e[22]||(e[22]=[n(" 搜索人才 ",-1)])]),_:1}),l(f,{size:"large",onClick:e[1]||(e[1]=t=>T.value=!T.value),type:T.value?"warning":"default"},{default:a(()=>[l(p,null,{default:a(()=>[l(v(se))]),_:1}),n(" "+i(T.value?"显示全部":"仅看收藏"),1)]),_:1},8,["type"])]),s("div",Xe,[e[23]||(e[23]=s("span",{class:"tag-label"},"热门岗位：",-1)),(m(),k(L,null,S(ie,t=>l(g,{key:t,effect:"plain",class:ae({active:F.value===t}),onClick:q=>de(t)},{default:a(()=>[n(i(t),1)]),_:2},1032,["class","onClick"])),64))])]),l(be,{modelValue:G.value,"onUpdate:modelValue":e[8]||(e[8]=t=>G.value=t),class:"filter-collapse"},{default:a(()=>[l(fe,{name:"filter"},{title:a(()=>[s("div",Ye,[l(p,null,{default:a(()=>[l(v(Ke))]),_:1}),e[24]||(e[24]=n(" 高级筛选 ",-1)),J.value>0?(m(),V(g,{key:0,type:"primary",size:"small"},{default:a(()=>[n(i(J.value)+"项 ",1)]),_:1})):x("",!0)])]),default:a(()=>[s("div",Ze,[s("div",el,[e[25]||(e[25]=s("label",null,"岗位类型",-1)),l(C,{modelValue:r.jobType,"onUpdate:modelValue":e[2]||(e[2]=t=>r.jobType=t),placeholder:"全部岗位",clearable:""},{default:a(()=>[l(u,{label:"服装设计师",value:"designer"}),l(u,{label:"服装版型师",value:"patternmaker"}),l(u,{label:"时装买手",value:"buyer"}),l(u,{label:"服装质检员",value:"inspector"}),l(u,{label:"服装导购",value:"sales"})]),_:1},8,["modelValue"])]),s("div",ll,[e[26]||(e[26]=s("label",null,"认证等级",-1)),l(C,{modelValue:r.certLevel,"onUpdate:modelValue":e[3]||(e[3]=t=>r.certLevel=t),placeholder:"全部等级",clearable:""},{default:a(()=>[l(u,{label:"初级",value:"junior"}),l(u,{label:"中级",value:"middle"}),l(u,{label:"高级",value:"senior"}),l(u,{label:"专家级",value:"expert"})]),_:1},8,["modelValue"])]),s("div",tl,[e[27]||(e[27]=s("label",null,"工作经验",-1)),l(C,{modelValue:r.experience,"onUpdate:modelValue":e[4]||(e[4]=t=>r.experience=t),placeholder:"不限经验",clearable:""},{default:a(()=>[l(u,{label:"应届生",value:"0"}),l(u,{label:"1-3年",value:"1-3"}),l(u,{label:"3-5年",value:"3-5"}),l(u,{label:"5-10年",value:"5-10"}),l(u,{label:"10年以上",value:"10+"})]),_:1},8,["modelValue"])]),s("div",al,[e[28]||(e[28]=s("label",null,"学历要求",-1)),l(C,{modelValue:r.education,"onUpdate:modelValue":e[5]||(e[5]=t=>r.education=t),placeholder:"不限学历",clearable:""},{default:a(()=>[l(u,{label:"高中/中专",value:"high"}),l(u,{label:"大专",value:"college"}),l(u,{label:"本科",value:"bachelor"}),l(u,{label:"硕士及以上",value:"master"})]),_:1},8,["modelValue"])]),s("div",sl,[e[29]||(e[29]=s("label",null,"期望薪资",-1)),l(C,{modelValue:r.salary,"onUpdate:modelValue":e[6]||(e[6]=t=>r.salary=t),placeholder:"不限薪资",clearable:""},{default:a(()=>[l(u,{label:"5K以下",value:"0-5"}),l(u,{label:"5K-10K",value:"5-10"}),l(u,{label:"10K-20K",value:"10-20"}),l(u,{label:"20K-30K",value:"20-30"}),l(u,{label:"30K以上",value:"30+"})]),_:1},8,["modelValue"])]),s("div",ol,[e[30]||(e[30]=s("label",null,"意向程度",-1)),l(C,{modelValue:r.intention,"onUpdate:modelValue":e[7]||(e[7]=t=>r.intention=t),placeholder:"全部意向",clearable:""},{default:a(()=>[l(u,{label:"高意向",value:"high"}),l(u,{label:"中意向",value:"medium"}),l(u,{label:"低意向",value:"low"}),l(u,{label:"未标记",value:"none"})]),_:1},8,["modelValue"])])]),s("div",nl,[l(f,{onClick:re},{default:a(()=>[...e[31]||(e[31]=[n("重置筛选",-1)])]),_:1}),l(f,{type:"primary",onClick:ce},{default:a(()=>[...e[32]||(e[32]=[n("应用筛选",-1)])]),_:1})])]),_:1})]),_:1},8,["modelValue"]),s("div",il,[s("span",ul,[e[33]||(e[33]=n("找到 ",-1)),s("strong",null,i(M.value.length),1),e[34]||(e[34]=n(" 位人才",-1))]),s("div",dl,[e[38]||(e[38]=s("span",null,"排序：",-1)),l(ye,{modelValue:P.value,"onUpdate:modelValue":e[9]||(e[9]=t=>P.value=t),size:"small"},{default:a(()=>[l(O,{label:"match"},{default:a(()=>[...e[35]||(e[35]=[n("匹配度",-1)])]),_:1}),l(O,{label:"active"},{default:a(()=>[...e[36]||(e[36]=[n("活跃度",-1)])]),_:1}),l(O,{label:"experience"},{default:a(()=>[...e[37]||(e[37]=[n("经验",-1)])]),_:1})]),_:1},8,["modelValue"])])]),s("div",rl,[(m(!0),k(L,null,S(M.value,t=>{var q;return m(),k("div",{class:"talent-card",key:t.id},[s("div",cl,[l(ee,{size:72,src:t.avatar},{default:a(()=>{var b;return[n(i((b=t.name)==null?void 0:b.charAt(0)),1)]}),_:2},1032,["src"]),s("div",{class:ae(["online-status",{online:t.isOnline}])},null,2)]),s("div",vl,[s("div",pl,[s("h3",_l,i(t.name),1),t.certLevel?(m(),V(g,{key:0,type:Q(t.certLevel),size:"small"},{default:a(()=>[n(i(t.certLevel),1)]),_:2},1032,["type"])):x("",!0),t.intention?(m(),V(g,{key:1,type:W(t.intention),size:"small",effect:"dark"},{default:a(()=>[n(i(E(t.intention)),1)]),_:2},1032,["type"])):x("",!0)]),s("p",ml,i(t.jobTitle),1),s("div",fl,[s("span",null,[l(p,null,{default:a(()=>[l(v(je))]),_:1}),n(i(t.city),1)]),s("span",null,[l(p,null,{default:a(()=>[l(v(Le))]),_:1}),n(i(t.experience),1)]),s("span",null,[l(p,null,{default:a(()=>[l(v(Se))]),_:1}),n(i(t.education),1)])]),s("div",bl,[(m(!0),k(L,null,S((q=t.skills)==null?void 0:q.slice(0,4),b=>(m(),V(g,{key:b,size:"small",effect:"plain"},{default:a(()=>[n(i(b),1)]),_:2},1024))),128))]),s("p",yl,i(t.intro),1)]),s("div",gl,[s("div",kl,[e[39]||(e[39]=s("span",{class:"salary-label"},"期望薪资",-1)),s("span",Vl,i(t.expectedSalary),1)]),s("div",Cl,[l(f,{type:"primary",onClick:b=>ve(t)},{default:a(()=>[l(p,null,{default:a(()=>[l(v(he))]),_:1}),e[40]||(e[40]=n(" 查看简历 ",-1))]),_:1},8,["onClick"]),l(f,{onClick:b=>X(t)},{default:a(()=>[l(p,null,{default:a(()=>[l(v(Ie))]),_:1}),e[41]||(e[41]=n(" 邀请面试 ",-1))]),_:1},8,["onClick"]),s("div",wl,[l(f,{type:t.collected?"warning":"default",onClick:b=>Y(t)},{default:a(()=>[l(p,null,{default:a(()=>[(m(),V($e(t.collected?v(Fe):v(se))))]),_:2},1024),n(" "+i(t.collected?"已收藏":"收藏"),1)]),_:2},1032,["type","onClick"]),l(ke,{trigger:"click",onCommand:b=>pe(t,b)},{dropdown:a(()=>[l(ge,null,{default:a(()=>[l(j,{command:"high"},{default:a(()=>[l(p,{style:{color:"#67c23a"}},{default:a(()=>[l(v(h))]),_:1}),e[43]||(e[43]=n(" 高意向 ",-1))]),_:1}),l(j,{command:"medium"},{default:a(()=>[l(p,{style:{color:"#e6a23c"}},{default:a(()=>[l(v(h))]),_:1}),e[44]||(e[44]=n(" 中意向 ",-1))]),_:1}),l(j,{command:"low"},{default:a(()=>[l(p,{style:{color:"#909399"}},{default:a(()=>[l(v(h))]),_:1}),e[45]||(e[45]=n(" 低意向 ",-1))]),_:1}),l(j,{divided:"",command:"none"},{default:a(()=>[l(p,null,{default:a(()=>[l(v(Ne))]),_:1}),e[46]||(e[46]=n(" 清除标记 ",-1))]),_:1})]),_:1})]),default:a(()=>[l(f,null,{default:a(()=>[l(p,null,{default:a(()=>[l(v(h))]),_:1}),e[42]||(e[42]=n(" 标记意向 ",-1))]),_:1})]),_:1},8,["onCommand"])])]),t.note?(m(),k("div",xl,[l(p,null,{default:a(()=>[l(v(Be))]),_:1}),s("span",null,i(t.note),1)])):x("",!0),l(f,{link:"",type:"primary",size:"small",onClick:b=>_e(t),class:"add-note-btn"},{default:a(()=>[l(p,null,{default:a(()=>[l(v(De))]),_:1}),n(" "+i(t.note?"编辑备注":"添加备注"),1)]),_:2},1032,["onClick"])])])}),128))]),s("div",Tl,[l(Ve,{"current-page":R.value,"onUpdate:currentPage":e[10]||(e[10]=t=>R.value=t),"page-size":H.value,"onUpdate:pageSize":e[11]||(e[11]=t=>H.value=t),total:U.value,"page-sizes":[10,20,50],layout:"total, sizes, prev, pager, next",background:""},null,8,["current-page","page-size","total"])]),l(le,{modelValue:N.value,"onUpdate:modelValue":e[14]||(e[14]=t=>N.value=t),title:`${(te=d.value)==null?void 0:te.name} 的简历`,width:"800px"},{default:a(()=>[d.value?(m(),k("div",zl,[s("div",$l,[l(ee,{size:100,src:d.value.avatar},{default:a(()=>{var t;return[n(i((t=d.value.name)==null?void 0:t.charAt(0)),1)]}),_:1},8,["src"]),s("div",Ul,[s("h2",null,i(d.value.name),1),s("p",Kl,i(d.value.jobTitle),1),s("div",jl,[l(g,{type:Q(d.value.certLevel)},{default:a(()=>[n(i(d.value.certLevel),1)]),_:1},8,["type"]),d.value.intention?(m(),V(g,{key:0,type:W(d.value.intention),effect:"dark"},{default:a(()=>[n(i(E(d.value.intention)),1)]),_:1},8,["type"])):x("",!0)])]),s("div",Ll,[l(f,{type:"primary",onClick:e[12]||(e[12]=t=>X(d.value))},{default:a(()=>[...e[47]||(e[47]=[n("邀请面试",-1)])]),_:1}),l(f,{type:d.value.collected?"warning":"default",onClick:e[13]||(e[13]=t=>Y(d.value))},{default:a(()=>[n(i(d.value.collected?"取消收藏":"收藏简历"),1)]),_:1},8,["type"])])]),l(Ce),l(we,{column:2,border:""},{default:a(()=>[l(w,{label:"所在城市"},{default:a(()=>[n(i(d.value.city),1)]),_:1}),l(w,{label:"工作经验"},{default:a(()=>[n(i(d.value.experience),1)]),_:1}),l(w,{label:"学历"},{default:a(()=>[n(i(d.value.education),1)]),_:1}),l(w,{label:"期望薪资"},{default:a(()=>[n(i(d.value.expectedSalary),1)]),_:1}),l(w,{label:"技能标签",span:2},{default:a(()=>[(m(!0),k(L,null,S(d.value.skills,t=>(m(),V(g,{key:t,size:"small",style:{"margin-right":"8px"}},{default:a(()=>[n(i(t),1)]),_:2},1024))),128))]),_:1}),l(w,{label:"个人简介",span:2},{default:a(()=>[n(i(d.value.intro),1)]),_:1})]),_:1})])):x("",!0)]),_:1},8,["modelValue","title"]),l(le,{modelValue:$.value,"onUpdate:modelValue":e[17]||(e[17]=t=>$.value=t),title:"编辑备注",width:"500px"},{footer:a(()=>[l(f,{onClick:e[16]||(e[16]=t=>$.value=!1)},{default:a(()=>[...e[48]||(e[48]=[n("取消",-1)])]),_:1}),l(f,{type:"primary",onClick:me},{default:a(()=>[...e[49]||(e[49]=[n("保存",-1)])]),_:1})]),default:a(()=>[l(Z,{modelValue:K.value,"onUpdate:modelValue":e[15]||(e[15]=t=>K.value=t),type:"textarea",rows:4,placeholder:"请输入对该人才的备注信息..."},null,8,["modelValue"])]),_:1},8,["modelValue"])])}}},Bl=xe(Sl,[["__scopeId","data-v-e61ded9a"]]);export{Bl as default};
