import{_ as F,u as H,b as R,m as V,d as q,s as j,a as G,l as J,p as W,c as K,e as O,f as Q,g as X,r as x,h as C,o as Y,i as Z,j as r,k as p,n as m,q as s,t as e,w as a,F as D,v as L,x as tt,y as c,z as w,A as st,B as et,C as U,E as $,D as ot,G as _,H as I,I as at,J as nt}from"./index-3d929bd0.js";import{r as M}from"./request-9595d616.js";import{e as P}from"./eventBus-7f99bbc0.js";const lt={name:"Home",components:{User:H,Briefcase:R,Medal:V,Document:q,Star:j,Message:G,Location:J,Phone:W,ArrowRight:K,ArrowDown:O,SwitchButton:Q},setup(){const B=X(),t=x(null),f=x(!1),v=C(()=>{if(!t.value)return"";const o=w();return o==="1"?t.value.name||t.value.username||"用户":o==="2"?t.value.companyName||t.value.contactPerson||"企业用户":o==="3"?t.value.username||"管理员":"用户"}),A=C(()=>{if(!t.value)return"";const o=w();return o==="1"?t.value.avatar||"":o==="2"?t.value.logo||"":o==="3"&&t.value.avatar||""}),b=async()=>{if(st("/"),!et("/")){f.value=!1;return}try{const n=await M.get("/auth/current-user");if(n.code===200&&n.data&&n.data.success!==!1)t.value=n.data,f.value=!0;else{f.value=!1;const l=w();l&&U(l)}}catch(n){console.error("获取用户信息失败:",n),f.value=!1}},u=o=>{o==="profile"?g():o==="logout"&&i()},g=()=>{const o=w();let n="";if(o==="1"&&t.value)n=`
          <div style="line-height: 2;">
            <p><strong>用户名：</strong>${t.value.username||"-"}</p>
            <p><strong>姓名：</strong>${t.value.name||"-"}</p>
            <p><strong>邮箱：</strong>${t.value.email||"-"}</p>
            <p><strong>手机：</strong>${t.value.phone||"-"}</p>
            <p><strong>职业方向：</strong>${t.value.careerDirection||"-"}</p>
          </div>
        `;else if(o==="2"&&t.value){const l={0:"待审核",1:"已认证",2:"审核未通过"};n=`
          <div style="line-height: 2;">
            <p><strong>用户名：</strong>${t.value.username||"-"}</p>
            <p><strong>企业名称：</strong>${t.value.companyName||"-"}</p>
            <p><strong>联系人：</strong>${t.value.contactPerson||"-"}</p>
            <p><strong>联系电话：</strong>${t.value.contactPhone||"-"}</p>
            <p><strong>邮箱：</strong>${t.value.email||"-"}</p>
            <p><strong>认证状态：</strong>${l[t.value.authStatus]||"-"}</p>
          </div>
        `}else o==="3"&&t.value&&(n=`
          <div style="line-height: 2;">
            <p><strong>用户名：</strong>${t.value.username||"-"}</p>
            <p><strong>角色：</strong>管理员</p>
            <p><strong>邮箱：</strong>${t.value.email||"-"}</p>
          </div>
        `);$.alert(n,"个人信息",{dangerouslyUseHTMLString:!0,confirmButtonText:"确定"})},i=()=>{$.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const o=w();o&&U(o),t.value=null,f.value=!1,ot.success("已退出登录"),B.push("/")}).catch(()=>{})},h=x([]),k=`data:image/svg+xml;charset=UTF-8,${encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="300" height="200"><rect width="300" height="200" fill="#e5e7eb"/><text x="150" y="108" font-size="24" text-anchor="middle" fill="#6b7280">NEWS</text></svg>')}`,y=o=>{if(!o)return"";const n=new Date(o);return Number.isNaN(n.getTime())?"":n.toLocaleDateString("zh-CN")},N=o=>o.image||k,T=async()=>{try{const o=await M.get("/announcement/latest",{params:{limit:3}}),n=Array.isArray(o.data)?o.data:[];h.value=n.map(l=>({id:l.id,title:l.title||"行业动态",date:y(l.publishTime||l.createTime),excerpt:l.content?l.content.slice(0,80):"",image:l.coverImage||""}))}catch(o){console.error("获取行业动态失败:",o),h.value=[]}},S=x([{title:"人才认证",description:"提供服装行业各类技能认证服务，建立标准化的人才评价体系",color:"#409eff",icon:"Medal"},{title:"精准招聘",description:"基于技能认证结果，为企业匹配最合适的专业人才",color:"#67c23a",icon:"Briefcase"},{title:"简历管理",description:"专业的简历创建和管理工具，帮助求职者展示个人能力",color:"#e6a23c",icon:"User"},{title:"培训推荐",description:"根据职业发展需求，推荐相关技能培训课程",color:"#f56c6c",icon:"Document"}]);return Y(()=>{b(),T(),P.on("user-updated",b)}),Z(()=>{P.off("user-updated",b)}),{newsList:h,features:S,isLoggedIn:f,userInfo:t,displayName:v,userAvatar:A,getNewsImage:N,handleCommand:u,showUserProfile:g,handleLogout:i}}},it={class:"home-container"},rt={class:"home-header"},dt={class:"container"},ct={class:"header-content"},ut={class:"nav-menu"},vt={key:0,class:"user-actions"},pt={key:1,class:"user-dropdown"},ft={class:"user-avatar-wrapper"},mt={class:"user-name"},_t={class:"hero-section"},gt={class:"container"},ht={class:"hero-content"},wt={class:"hero-text"},bt={class:"hero-buttons"},yt={id:"features",class:"features-section"},xt={class:"container"},kt={class:"features-grid"},Nt={class:"feature-title"},Tt={class:"feature-description"},St={id:"industry-news",class:"news-section"},Bt={class:"container"},At={class:"news-grid"},Ct={class:"news-image"},Dt=["src","alt"],Lt={class:"news-date-badge"},Ut={class:"news-content"},$t={class:"news-title"},It={class:"news-excerpt"},Mt={href:"#",class:"read-more"},Pt={id:"about",class:"about-section"},zt={class:"container"},Et={class:"about-content"},Ft={class:"about-text"},Ht={class:"about-cta"},Rt={class:"home-footer"},Vt={class:"container"},qt={class:"footer-content"},jt={class:"footer-links"},Gt={class:"footer-nav"},Jt={class:"footer-contact"},Wt={class:"contact-list"},Kt={class:"contact-item"},Ot={class:"contact-item"},Qt={class:"contact-item"};function Xt(B,t,f,v,A,b){const u=r("router-link"),g=r("User"),i=r("el-icon"),h=r("el-avatar"),k=r("ArrowDown"),y=r("el-dropdown-item"),N=r("SwitchButton"),T=r("el-dropdown-menu"),S=r("el-dropdown"),o=r("ArrowRight"),n=r("Phone"),l=r("Message"),z=r("Location");return p(),m("div",it,[s("header",rt,[s("div",dt,[s("div",ct,[t[8]||(t[8]=s("div",{class:"logo"},[s("h1",{class:"logo-text"},"服装人才认证招聘平台")],-1)),s("nav",ut,[e(u,{to:"/",class:"nav-link active"},{default:a(()=>[...t[0]||(t[0]=[c("首页",-1)])]),_:1}),t[1]||(t[1]=s("a",{href:"#features",class:"nav-link"},"功能介绍",-1)),t[2]||(t[2]=s("a",{href:"#industry-news",class:"nav-link"},"行业动态",-1)),t[3]||(t[3]=s("a",{href:"#about",class:"nav-link"},"关于我们",-1))]),v.isLoggedIn?(p(),m("div",pt,[e(S,{trigger:"click",onCommand:v.handleCommand},{dropdown:a(()=>[e(T,null,{default:a(()=>[e(y,{command:"profile"},{default:a(()=>[e(i,null,{default:a(()=>[e(g)]),_:1}),t[6]||(t[6]=s("span",null,"个人信息",-1))]),_:1}),e(y,{divided:"",command:"logout"},{default:a(()=>[e(i,null,{default:a(()=>[e(N)]),_:1}),t[7]||(t[7]=s("span",null,"退出登录",-1))]),_:1})]),_:1})]),default:a(()=>[s("div",ft,[e(h,{size:40,src:v.userAvatar,class:"user-avatar"},{default:a(()=>[e(i,{size:20},{default:a(()=>[e(g)]),_:1})]),_:1},8,["src"]),s("span",mt,_(v.displayName),1),e(i,{class:"dropdown-icon"},{default:a(()=>[e(k)]),_:1})])]),_:1},8,["onCommand"])])):(p(),m("div",vt,[e(u,{to:"/login",class:"btn btn-outline"},{default:a(()=>[...t[4]||(t[4]=[c("登录",-1)])]),_:1}),e(u,{to:"/register",class:"btn btn-primary"},{default:a(()=>[...t[5]||(t[5]=[c("注册",-1)])]),_:1})]))])])]),s("section",_t,[s("div",gt,[s("div",ht,[s("div",wt,[t[11]||(t[11]=s("h2",{class:"hero-title"},"专业认证，精准匹配",-1)),t[12]||(t[12]=s("p",{class:"hero-description"},"打造服装行业专业人才与优质企业的精准对接平台，提升行业整体水平",-1)),s("div",bt,[e(u,{to:"/register",class:"btn btn-primary btn-lg"},{default:a(()=>[...t[9]||(t[9]=[c("立即注册",-1)])]),_:1}),e(u,{to:"/login",class:"btn btn-outline btn-lg"},{default:a(()=>[...t[10]||(t[10]=[c("了解更多",-1)])]),_:1})])]),t[13]||(t[13]=s("div",{class:"hero-image"},[s("img",{src:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=600&h=400&fit=crop",alt:"服装行业人才招聘",class:"hero-img"})],-1))])])]),s("section",yt,[s("div",xt,[t[15]||(t[15]=s("div",{class:"section-header"},[s("h2",{class:"section-title"},"核心功能"),s("p",{class:"section-subtitle"},"为服装行业人才和企业提供全方位的服务支持")],-1)),s("div",kt,[(p(!0),m(D,null,L(v.features,(d,E)=>(p(),m("div",{class:"feature-card",key:E},[s("div",{class:"feature-icon",style:I({backgroundColor:d.color+"20"})},[e(i,{style:I({color:d.color,fontSize:"48px"})},{default:a(()=>[(p(),at(nt(d.icon)))]),_:2},1032,["style"])],4),s("h3",Nt,_(d.title),1),s("p",Tt,_(d.description),1),e(u,{to:"/login",class:"feature-link"},{default:a(()=>[t[14]||(t[14]=c("了解详情 ",-1)),e(i,null,{default:a(()=>[e(o)]),_:1})]),_:1})]))),128))])])]),s("section",St,[s("div",Bt,[t[17]||(t[17]=s("div",{class:"section-header"},[s("h2",{class:"section-title"},"行业动态"),s("p",{class:"section-subtitle"},"关注服装行业最新资讯和发展趋势")],-1)),s("div",At,[(p(!0),m(D,null,L(v.newsList,d=>(p(),m("div",{class:"news-card",key:d.id},[s("div",Ct,[s("img",{src:v.getNewsImage(d),alt:d.title,class:"news-img"},null,8,Dt),s("div",Lt,_(d.date),1)]),s("div",Ut,[s("h3",$t,_(d.title),1),s("p",It,_(d.excerpt),1),s("a",Mt,[t[16]||(t[16]=c("阅读全文 ",-1)),e(i,null,{default:a(()=>[e(o)]),_:1})])])]))),128))])])]),s("section",Pt,[s("div",zt,[s("div",Et,[s("div",Ft,[t[19]||(t[19]=s("h2",{class:"section-title"},"关于我们",-1)),t[20]||(t[20]=s("p",{class:"about-paragraph"},"本平台致力于打造服装行业专业人才与优质企业的精准对接平台，通过建立标准化的技能认证体系，提升行业整体水平。",-1)),t[21]||(t[21]=s("p",{class:"about-paragraph"},"我们与行业协会、知名企业和教育机构深度合作，共同推动服装行业人才培养和职业发展，为行业的繁荣发展贡献力量。",-1)),s("div",Ht,[e(u,{to:"/register",class:"btn btn-primary"},{default:a(()=>[...t[18]||(t[18]=[c("加入我们",-1)])]),_:1})])]),t[22]||(t[22]=tt('<div class="about-stats" data-v-149871c3><div class="stat-item" data-v-149871c3><div class="stat-number" data-v-149871c3>10,000+</div><div class="stat-label" data-v-149871c3>认证人才</div></div><div class="stat-item" data-v-149871c3><div class="stat-number" data-v-149871c3>500+</div><div class="stat-label" data-v-149871c3>合作企业</div></div><div class="stat-item" data-v-149871c3><div class="stat-number" data-v-149871c3>20+</div><div class="stat-label" data-v-149871c3>认证类型</div></div><div class="stat-item" data-v-149871c3><div class="stat-number" data-v-149871c3>95%</div><div class="stat-label" data-v-149871c3>满意度</div></div></div>',1))])])]),s("footer",Rt,[s("div",Vt,[s("div",qt,[t[32]||(t[32]=s("div",{class:"footer-about"},[s("h3",{class:"footer-title"},"服装人才认证招聘平台"),s("p",{class:"footer-description"},"专业认证，精准匹配，推动服装行业人才发展")],-1)),s("div",jt,[t[27]||(t[27]=s("h4",{class:"footer-subtitle"},"快速链接",-1)),s("ul",Gt,[s("li",null,[e(u,{to:"/"},{default:a(()=>[...t[23]||(t[23]=[c("首页",-1)])]),_:1})]),t[24]||(t[24]=s("li",null,[s("a",{href:"#features"},"功能介绍")],-1)),t[25]||(t[25]=s("li",null,[s("a",{href:"#industry-news"},"行业动态")],-1)),t[26]||(t[26]=s("li",null,[s("a",{href:"#about"},"关于我们")],-1))])]),s("div",Jt,[t[31]||(t[31]=s("h4",{class:"footer-subtitle"},"联系我们",-1)),s("ul",Wt,[s("li",Kt,[e(i,null,{default:a(()=>[e(n)]),_:1}),t[28]||(t[28]=c(" 400-123-4567",-1))]),s("li",Ot,[e(i,null,{default:a(()=>[e(l)]),_:1}),t[29]||(t[29]=c(" contact@apparelcert.com",-1))]),s("li",Qt,[e(i,null,{default:a(()=>[e(z)]),_:1}),t[30]||(t[30]=c(" 北京市朝阳区服装产业园区88号",-1))])])])]),t[33]||(t[33]=s("div",{class:"footer-bottom"},[s("p",{class:"copyright"},"© 2024 服装人才认证招聘平台. 保留所有权利.")],-1))])])])}const ss=F(lt,[["render",Xt],["__scopeId","data-v-149871c3"]]);export{ss as default};
