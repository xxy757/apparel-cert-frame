import{_ as _e,r as v,z as U,P as ve,e as d,f as i,g as c,h as t,i as l,w as s,F as x,j as S,t as N,H as b,J as fe,X as ge,N as H,K as J,S as f,n as u,q as be,v as ke,x as o,Q as we,R as K,E as D,a3 as ye,a4 as Ve,l as Ne,u as Ce,a5 as Te,L as ze,a6 as Ie,a7 as xe}from"./index-a65af770.js";const Se={class:"interview-container"},De={class:"page-header"},Ue={class:"header-actions"},$e={class:"stats-row"},Me={class:"stat-content"},he={class:"stat-value"},Le={class:"stat-label"},Be={class:"toolbar"},Ee={class:"view-switch"},Fe={class:"filter-section"},Re={key:0,class:"interview-list"},qe={class:"interview-time-block"},Pe={class:"date"},Ae={class:"time"},He={class:"interview-main"},Je={class:"candidate-info"},Ke={class:"candidate-details"},Oe={class:"position"},Qe={class:"interview-meta"},We={class:"meta-item"},Xe={class:"meta-item"},je={class:"meta-item"},Ge={class:"interview-actions"},Ye={key:1,class:"calendar-view"},Ze={class:"calendar-cell"},et={class:"date-num"},tt={class:"calendar-events"},lt=["onClick"],at={key:2,class:"pagination-wrapper"},st={key:0,class:"interview-detail"},nt={class:"detail-section"},ot={class:"detail-item"},it={class:"value"},dt={class:"detail-item"},ut={class:"value"},rt={class:"detail-item"},ct={class:"value"},mt={class:"detail-section"},pt={class:"detail-item"},_t={class:"value"},vt={class:"detail-item"},ft={class:"value"},gt={class:"detail-item"},bt={class:"value"},kt={key:0,class:"detail-section"},wt={key:1,class:"detail-section"},yt={key:2,class:"detail-section"},Vt={class:"dialog-footer"},Nt={class:"dialog-footer"},Ct={__name:"Interview",setup(Tt){const C=v(!1),y=v(!1),O=v(!1),r=v(null),T=v("list"),$=v(new Date),w=U({position:"",candidateName:"",status:""}),m=U({interviewId:"",candidateName:"",result:"",feedback:""}),Q={result:[{required:!0,message:"请选择面试结果",trigger:"change"}],feedback:[{required:!0,message:"请输入面试反馈",trigger:"blur"},{min:10,message:"面试反馈不能少于10个字符",trigger:"blur"}]},W=v([{id:1,title:"服装设计师"},{id:2,title:"服装打版师"},{id:3,title:"时装买手"}]),V=v([{id:1,positionName:"服装设计师",candidateName:"张三",interviewTime:"2024-01-25 14:00:00",interviewLocation:"公司会议室A",interviewType:"现场面试",interviewer:"李经理",status:0,result:null,remark:"请提前准备作品集",feedback:""},{id:2,positionName:"服装打版师",candidateName:"李四",interviewTime:"2024-01-26 10:00:00",interviewLocation:"腾讯会议",interviewType:"视频面试",interviewer:"王主管",status:1,result:null,remark:"面试链接将通过邮件发送",feedback:""},{id:3,positionName:"时装买手",candidateName:"王五",interviewTime:"2024-01-27 15:30:00",interviewLocation:"公司3楼面试间",interviewType:"现场面试",interviewer:"赵总监",status:2,result:1,remark:"",feedback:"专业能力强，沟通能力佳"}]),X=U([{key:"pending",label:"待确认",value:1,icon:fe,color:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)"},{key:"confirmed",label:"已确认",value:1,icon:ge,color:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)"},{key:"completed",label:"已完成",value:1,icon:H,color:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{key:"total",label:"本月面试",value:3,icon:J,color:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"}]),M=v(1),h=v(10),j=ve(()=>V.value.length),G=n=>({0:"待确认",1:"已确认",2:"已完成",3:"已取消"})[n]||"未知",Y=n=>({0:"warning",1:"success",2:"info",3:"danger"})[n]||"info",Z=n=>{if(!n)return"";const e=new Date(n);return`${e.getMonth()+1}月${e.getDate()}日`},ee=n=>{if(!n)return"";const e=new Date(n);return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`},te=n=>V.value.filter(e=>e.interviewTime.startsWith(n)),L=n=>{r.value=n,C.value=!0},le=n=>{K.confirm("确认接受此面试安排？","确认面试",{type:"info"}).then(()=>{n.status=1,D.success("面试已确认")}).catch(()=>{})},ae=n=>{K.confirm("确定取消此次面试吗？","取消面试",{type:"warning"}).then(()=>{n.status=3,D.success("面试已取消")}).catch(()=>{})},se=n=>{m.interviewId=n.id.toString(),m.candidateName=n.candidateName,y.value=!0},ne=()=>{const n=V.value.find(e=>e.id.toString()===m.interviewId);n&&(n.result=parseInt(m.result),n.feedback=m.feedback),y.value=!1,D.success("面试结果已保存")},oe=(n,e)=>{n==="cancel"?ae(e):n==="reschedule"&&D.info("改期功能开发中")};return(n,e)=>{const _=d("el-icon"),g=d("el-button"),B=d("el-radio-button"),E=d("el-radio-group"),k=d("el-option"),F=d("el-select"),z=d("el-input"),ie=d("el-empty"),R=d("el-tag"),de=d("el-avatar"),q=d("el-dropdown-item"),ue=d("el-dropdown-menu"),re=d("el-dropdown"),ce=d("el-calendar"),me=d("el-pagination"),P=d("el-dialog"),I=d("el-form-item"),A=d("el-radio"),pe=d("el-form");return i(),c("div",Se,[t("div",De,[e[17]||(e[17]=t("div",{class:"header-info"},[t("h1",null,"面试管理"),t("p",{class:"subtitle"},"管理候选人面试安排，跟踪面试进度")],-1)),t("div",Ue,[l(g,{type:"primary",onClick:e[0]||(e[0]=a=>O.value=!0)},{default:s(()=>[l(_,null,{default:s(()=>[l(f(ye))]),_:1}),e[16]||(e[16]=u(" 安排面试 ",-1))]),_:1})])]),t("div",$e,[(i(!0),c(x,null,S(X,a=>(i(),c("div",{class:"stat-card",key:a.key},[t("div",{class:"stat-icon",style:be({background:a.color})},[l(_,null,{default:s(()=>[(i(),N(ke(a.icon)))]),_:2},1024)],4),t("div",Me,[t("span",he,o(a.value),1),t("span",Le,o(a.label),1)])]))),128))]),t("div",Be,[t("div",Ee,[l(E,{modelValue:T.value,"onUpdate:modelValue":e[1]||(e[1]=a=>T.value=a),size:"default"},{default:s(()=>[l(B,{label:"list"},{default:s(()=>[l(_,null,{default:s(()=>[l(f(Ve))]),_:1}),e[18]||(e[18]=u(" 列表视图 ",-1))]),_:1}),l(B,{label:"calendar"},{default:s(()=>[l(_,null,{default:s(()=>[l(f(J))]),_:1}),e[19]||(e[19]=u(" 日历视图 ",-1))]),_:1})]),_:1},8,["modelValue"])]),t("div",Fe,[l(F,{modelValue:w.position,"onUpdate:modelValue":e[2]||(e[2]=a=>w.position=a),placeholder:"选择职位",clearable:"",class:"filter-select"},{default:s(()=>[l(k,{label:"全部职位",value:""}),(i(!0),c(x,null,S(W.value,a=>(i(),N(k,{key:a.id,label:a.title,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),l(F,{modelValue:w.status,"onUpdate:modelValue":e[3]||(e[3]=a=>w.status=a),placeholder:"面试状态",clearable:"",class:"filter-select"},{default:s(()=>[l(k,{label:"全部状态",value:""}),l(k,{label:"待确认",value:"0"}),l(k,{label:"已确认",value:"1"}),l(k,{label:"已完成",value:"2"}),l(k,{label:"已取消",value:"3"})]),_:1},8,["modelValue"]),l(z,{modelValue:w.candidateName,"onUpdate:modelValue":e[4]||(e[4]=a=>w.candidateName=a),placeholder:"搜索候选人","prefix-icon":"Search",clearable:"",class:"search-input"},null,8,["modelValue"])])]),T.value==="list"?(i(),c("div",Re,[V.value.length===0?(i(),N(ie,{key:0,description:"暂无面试安排"})):b("",!0),(i(!0),c(x,null,S(V.value,a=>(i(),c("div",{class:"interview-card",key:a.id},[t("div",qe,[t("div",Pe,o(Z(a.interviewTime)),1),t("div",Ae,o(ee(a.interviewTime)),1),l(R,{type:Y(a.status),size:"small"},{default:s(()=>[u(o(G(a.status)),1)]),_:2},1032,["type"])]),t("div",He,[t("div",Je,[l(de,{size:48},{default:s(()=>{var p;return[u(o((p=a.candidateName)==null?void 0:p.charAt(0)),1)]}),_:2},1024),t("div",Ke,[t("h3",null,o(a.candidateName),1),t("p",Oe,"应聘："+o(a.positionName),1)])]),t("div",Qe,[t("div",We,[l(_,null,{default:s(()=>[l(f(Ne))]),_:1}),t("span",null,o(a.interviewLocation),1)]),t("div",Xe,[l(_,null,{default:s(()=>[l(f(Ce))]),_:1}),t("span",null,"面试官："+o(a.interviewer),1)]),t("div",je,[l(_,null,{default:s(()=>[l(f(Te))]),_:1}),t("span",null,o(a.interviewType),1)])])]),t("div",Ge,[l(g,{type:"primary",plain:"",size:"small",onClick:p=>L(a)},{default:s(()=>[l(_,null,{default:s(()=>[l(f(ze))]),_:1}),e[20]||(e[20]=u(" 详情 ",-1))]),_:1},8,["onClick"]),a.status===0?(i(),N(g,{key:0,type:"warning",plain:"",size:"small",onClick:p=>le(a)},{default:s(()=>[l(_,null,{default:s(()=>[l(f(H))]),_:1}),e[21]||(e[21]=u(" 确认 ",-1))]),_:1},8,["onClick"])):b("",!0),a.status===2&&!a.result?(i(),N(g,{key:1,type:"success",plain:"",size:"small",onClick:p=>se(a)},{default:s(()=>[l(_,null,{default:s(()=>[l(f(Ie))]),_:1}),e[22]||(e[22]=u(" 评价 ",-1))]),_:1},8,["onClick"])):b("",!0),l(re,{trigger:"click",onCommand:p=>oe(p,a)},{dropdown:s(()=>[l(ue,null,{default:s(()=>[l(q,{command:"reschedule"},{default:s(()=>[...e[23]||(e[23]=[u("改期",-1)])]),_:1}),l(q,{command:"cancel",divided:""},{default:s(()=>[...e[24]||(e[24]=[u("取消面试",-1)])]),_:1})]),_:1})]),default:s(()=>[l(g,{size:"small"},{default:s(()=>[l(_,null,{default:s(()=>[l(f(xe))]),_:1})]),_:1})]),_:1},8,["onCommand"])])]))),128))])):(i(),c("div",Ye,[l(ce,{modelValue:$.value,"onUpdate:modelValue":e[5]||(e[5]=a=>$.value=a)},{"date-cell":s(({data:a})=>[t("div",Ze,[t("span",et,o(a.day.split("-")[2]),1),t("div",tt,[(i(!0),c(x,null,S(te(a.day),p=>(i(),c("div",{key:p.id,class:we(["calendar-event","status-"+p.status]),onClick:zt=>L(p)},o(p.candidateName)+" - "+o(p.positionName),11,lt))),128))])])]),_:1},8,["modelValue"])])),T.value==="list"?(i(),c("div",at,[l(me,{"current-page":M.value,"onUpdate:currentPage":e[6]||(e[6]=a=>M.value=a),"page-size":h.value,"onUpdate:pageSize":e[7]||(e[7]=a=>h.value=a),total:j.value,"page-sizes":[10,20,50],layout:"total, sizes, prev, pager, next",background:""},null,8,["current-page","page-size","total"])])):b("",!0),l(P,{modelValue:C.value,"onUpdate:modelValue":e[9]||(e[9]=a=>C.value=a),title:"面试详情",width:"600px"},{footer:s(()=>[t("div",Vt,[l(g,{onClick:e[8]||(e[8]=a=>C.value=!1)},{default:s(()=>[...e[36]||(e[36]=[u("关闭",-1)])]),_:1})])]),default:s(()=>[r.value?(i(),c("div",st,[t("div",nt,[e[28]||(e[28]=t("h4",null,"基本信息",-1)),t("div",ot,[e[25]||(e[25]=t("span",{class:"label"},"职位：",-1)),t("span",it,o(r.value.positionName),1)]),t("div",dt,[e[26]||(e[26]=t("span",{class:"label"},"候选人：",-1)),t("span",ut,o(r.value.candidateName),1)]),t("div",rt,[e[27]||(e[27]=t("span",{class:"label"},"面试官：",-1)),t("span",ct,o(r.value.interviewer),1)])]),t("div",mt,[e[32]||(e[32]=t("h4",null,"面试安排",-1)),t("div",pt,[e[29]||(e[29]=t("span",{class:"label"},"面试时间：",-1)),t("span",_t,o(r.value.interviewTime),1)]),t("div",vt,[e[30]||(e[30]=t("span",{class:"label"},"面试地点：",-1)),t("span",ft,o(r.value.interviewLocation),1)]),t("div",gt,[e[31]||(e[31]=t("span",{class:"label"},"面试形式：",-1)),t("span",bt,o(r.value.interviewType),1)])]),r.value.remark?(i(),c("div",kt,[e[33]||(e[33]=t("h4",null,"备注",-1)),t("p",null,o(r.value.remark),1)])):b("",!0),r.value.feedback?(i(),c("div",wt,[e[34]||(e[34]=t("h4",null,"面试反馈",-1)),t("p",null,o(r.value.feedback),1)])):b("",!0),r.value.result?(i(),c("div",yt,[e[35]||(e[35]=t("h4",null,"面试结果",-1)),l(R,{type:r.value.result===1?"success":"danger"},{default:s(()=>[u(o(r.value.result===1?"已录用":"未录用"),1)]),_:1},8,["type"])])):b("",!0)])):b("",!0)]),_:1},8,["modelValue"]),l(P,{modelValue:y.value,"onUpdate:modelValue":e[15]||(e[15]=a=>y.value=a),title:"记录面试结果",width:"600px"},{footer:s(()=>[t("div",Nt,[l(g,{onClick:e[14]||(e[14]=a=>y.value=!1)},{default:s(()=>[...e[39]||(e[39]=[u("取消",-1)])]),_:1}),l(g,{type:"primary",onClick:ne},{default:s(()=>[...e[40]||(e[40]=[u("保存结果",-1)])]),_:1})])]),default:s(()=>[l(pe,{ref:"resultForm",model:m,rules:Q,"label-width":"100px"},{default:s(()=>[l(I,{label:"面试ID"},{default:s(()=>[l(z,{modelValue:m.interviewId,"onUpdate:modelValue":e[10]||(e[10]=a=>m.interviewId=a),readonly:""},null,8,["modelValue"])]),_:1}),l(I,{label:"候选人"},{default:s(()=>[l(z,{modelValue:m.candidateName,"onUpdate:modelValue":e[11]||(e[11]=a=>m.candidateName=a),readonly:""},null,8,["modelValue"])]),_:1}),l(I,{label:"面试结果",prop:"result"},{default:s(()=>[l(E,{modelValue:m.result,"onUpdate:modelValue":e[12]||(e[12]=a=>m.result=a)},{default:s(()=>[l(A,{label:"1"},{default:s(()=>[...e[37]||(e[37]=[u("已录用",-1)])]),_:1}),l(A,{label:"2"},{default:s(()=>[...e[38]||(e[38]=[u("未录用",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(I,{label:"面试反馈",prop:"feedback"},{default:s(()=>[l(z,{modelValue:m.feedback,"onUpdate:modelValue":e[13]||(e[13]=a=>m.feedback=a),type:"textarea",rows:5,placeholder:"请输入面试反馈"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}},xt=_e(Ct,[["__scopeId","data-v-6f6d4396"]]);export{xt as default};
