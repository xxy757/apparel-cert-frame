import{_ as q,r as y,z as D,o as B,e as u,f as V,g as R,i as e,w as o,E as f,h as _,n as c,x as U,t as M}from"./index-a65af770.js";const E={name:"ContentManage",setup(){const v=y(null),n=y(!1),d=D({title:"",contentType:"",status:""}),t=D({title:"",contentType:"article",author:"",summary:"",content:"",status:"1"}),F={title:[{required:!0,message:"请输入内容标题",trigger:"blur"},{min:5,max:100,message:"长度在 5 到 100 个字符",trigger:"blur"}],contentType:[{required:!0,message:"请选择内容类型",trigger:"change"}],author:[{required:!0,message:"请输入作者",trigger:"blur"}],summary:[{required:!0,message:"请输入内容摘要",trigger:"blur"},{min:10,max:200,message:"长度在 10 到 200 个字符",trigger:"blur"}],content:[{required:!0,message:"请输入内容详情",trigger:"blur"}],status:[{required:!0,message:"请选择内容状态",trigger:"change"}]},T=y([]),i=y(1),g=y(10),s=y(0),r=[{id:1,title:"2024年服装行业技能认证标准更新公告",contentType:"notice",author:"管理员",summary:"关于2024年服装行业技能认证标准的最新更新公告",content:"详细内容...",status:1,viewCount:1234,createTime:"2024-01-15 10:30:00"},{id:2,title:"服装设计师职业发展前景分析",contentType:"article",author:"张三",summary:"深入分析服装设计师的职业发展前景和市场需求",content:"详细内容...",status:1,viewCount:856,createTime:"2024-01-16 14:20:00"},{id:3,title:"打版师技能认证考试大纲",contentType:"news",author:"李四",summary:"2024年打版师技能认证考试的详细大纲",content:"详细内容...",status:1,viewCount:623,createTime:"2024-01-17 09:15:00"},{id:4,title:"2023年度技能认证通过率统计报告",contentType:"article",author:"王五",summary:"2023年度服装行业技能认证的通过率统计和分析",content:"详细内容...",status:1,viewCount:456,createTime:"2024-01-18 16:45:00"},{id:5,title:"质检员认证流程优化通知",contentType:"notice",author:"管理员",summary:"关于质检员认证流程优化的通知",content:"详细内容...",status:1,viewCount:321,createTime:"2024-01-19 11:20:00"},{id:6,title:"服装行业数字化转型趋势",contentType:"news",author:"赵六",summary:"服装行业数字化转型的最新趋势和案例分析",content:"详细内容...",status:0,viewCount:0,createTime:"2024-01-20 15:30:00"},{id:7,title:"2024年春季招聘需求预测",contentType:"article",author:"孙七",summary:"2024年春季服装行业的招聘需求预测",content:"详细内容...",status:1,viewCount:789,createTime:"2024-01-21 08:45:00"},{id:8,title:"技能认证教材更新说明",contentType:"notice",author:"管理员",summary:"关于技能认证教材更新的说明",content:"详细内容...",status:0,viewCount:0,createTime:"2024-01-22 13:10:00"}];B(()=>{m()});const m=()=>{T.value=r,s.value=r.length};return{contentFormRef:v,createContentDialogVisible:n,searchForm:d,contentForm:t,contentRules:F,contents:T,currentPage:i,pageSize:g,totalContents:s,getContentTypeText:a=>({article:"文章",notice:"公告",news:"新闻"})[a]||"未知",getContentTypeTagType:a=>({article:"info",notice:"warning",news:"success"})[a]||"info",getStatusText:a=>a===1?"已发布":"草稿",getStatusTagType:a=>a===1?"success":"danger",openCreateContentDialog:()=>{t.title="",t.contentType="article",t.author="",t.summary="",t.content="",t.status="1",n.value=!0},createContent:()=>{v.value.validate(a=>{if(a)f.success("内容发布成功"),n.value=!1,m();else return!1})},searchContents:()=>{let a=[...r];d.title&&(a=a.filter(C=>C.title.includes(d.title))),d.contentType&&(a=a.filter(C=>C.contentType===d.contentType)),d.status&&(a=a.filter(C=>C.status===parseInt(d.status))),T.value=a,s.value=a.length,i.value=1},resetSearch:()=>{d.title="",d.contentType="",d.status="",m()},viewContentDetails:a=>{f.info("查看内容详情功能开发中")},editContent:a=>{f.info("编辑内容功能开发中")},publishContent:a=>{f.success("内容已发布"),a.status=1},unpublishContent:a=>{f.success("内容已下架"),a.status=0},handleSizeChange:a=>{g.value=a,m()},handleCurrentChange:a=>{i.value=a,m()}}}},I={class:"content-manage-container"},N={class:"card-header"},P={class:"content-filters"},j={class:"pagination-container"},A={class:"dialog-footer"};function G(v,n,d,t,F,T){const i=u("el-button"),g=u("el-input"),s=u("el-form-item"),r=u("el-option"),m=u("el-select"),h=u("el-form"),p=u("el-table-column"),w=u("el-tag"),k=u("el-table"),x=u("el-pagination"),S=u("el-card"),z=u("el-dialog");return V(),R("div",I,[e(S,{shadow:"hover"},{header:o(()=>[_("div",N,[n[12]||(n[12]=_("h2",null,"内容管理",-1)),e(i,{type:"primary",onClick:t.openCreateContentDialog},{default:o(()=>[...n[11]||(n[11]=[c("发布内容",-1)])]),_:1},8,["onClick"])])]),default:o(()=>[_("div",P,[e(h,{inline:!0,model:t.searchForm,"label-width":"80px"},{default:o(()=>[e(s,{label:"标题"},{default:o(()=>[e(g,{modelValue:t.searchForm.title,"onUpdate:modelValue":n[0]||(n[0]=l=>t.searchForm.title=l),placeholder:"请输入内容标题"},null,8,["modelValue"])]),_:1}),e(s,{label:"内容类型"},{default:o(()=>[e(m,{modelValue:t.searchForm.contentType,"onUpdate:modelValue":n[1]||(n[1]=l=>t.searchForm.contentType=l),placeholder:"请选择内容类型"},{default:o(()=>[e(r,{label:"全部",value:""}),e(r,{label:"文章",value:"article"}),e(r,{label:"公告",value:"notice"}),e(r,{label:"新闻",value:"news"})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"状态"},{default:o(()=>[e(m,{modelValue:t.searchForm.status,"onUpdate:modelValue":n[2]||(n[2]=l=>t.searchForm.status=l),placeholder:"请选择状态"},{default:o(()=>[e(r,{label:"全部",value:""}),e(r,{label:"已发布",value:"1"}),e(r,{label:"草稿",value:"0"})]),_:1},8,["modelValue"])]),_:1}),e(s,null,{default:o(()=>[e(i,{type:"primary",onClick:t.searchContents},{default:o(()=>[...n[13]||(n[13]=[c("查询",-1)])]),_:1},8,["onClick"]),e(i,{onClick:t.resetSearch},{default:o(()=>[...n[14]||(n[14]=[c("重置",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),e(k,{data:t.contents,style:{width:"100%"}},{default:o(()=>[e(p,{prop:"id",label:"内容ID",width:"100"}),e(p,{prop:"title",label:"标题"}),e(p,{prop:"contentType",label:"内容类型",width:"120"},{default:o(l=>[e(w,{type:t.getContentTypeTagType(l.row.contentType)},{default:o(()=>[c(U(t.getContentTypeText(l.row.contentType)),1)]),_:2},1032,["type"])]),_:1}),e(p,{prop:"author",label:"作者",width:"120"}),e(p,{prop:"status",label:"状态",width:"100"},{default:o(l=>[e(w,{type:t.getStatusTagType(l.row.status)},{default:o(()=>[c(U(t.getStatusText(l.row.status)),1)]),_:2},1032,["type"])]),_:1}),e(p,{prop:"viewCount",label:"浏览量",width:"100"}),e(p,{prop:"createTime",label:"发布时间",width:"180"}),e(p,{label:"操作",width:"200",fixed:"right"},{default:o(l=>[e(i,{type:"primary",size:"small",onClick:b=>t.viewContentDetails(l.row)},{default:o(()=>[...n[15]||(n[15]=[c("查看详情",-1)])]),_:1},8,["onClick"]),e(i,{type:"warning",size:"small",onClick:b=>t.editContent(l.row)},{default:o(()=>[...n[16]||(n[16]=[c("编辑",-1)])]),_:1},8,["onClick"]),l.row.status===1?(V(),M(i,{key:0,type:"danger",size:"small",onClick:b=>t.unpublishContent(l.row)},{default:o(()=>[...n[17]||(n[17]=[c("下架",-1)])]),_:1},8,["onClick"])):(V(),M(i,{key:1,type:"success",size:"small",onClick:b=>t.publishContent(l.row)},{default:o(()=>[...n[18]||(n[18]=[c("发布",-1)])]),_:1},8,["onClick"]))]),_:1})]),_:1},8,["data"]),_("div",j,[e(x,{onSizeChange:t.handleSizeChange,onCurrentChange:t.handleCurrentChange,"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalContents},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])]),_:1}),e(z,{modelValue:t.createContentDialogVisible,"onUpdate:modelValue":n[10]||(n[10]=l=>t.createContentDialogVisible=l),title:"发布内容",width:"800px"},{footer:o(()=>[_("span",A,[e(i,{onClick:n[9]||(n[9]=l=>t.createContentDialogVisible=!1)},{default:o(()=>[...n[19]||(n[19]=[c("取消",-1)])]),_:1}),e(i,{type:"primary",onClick:t.createContent},{default:o(()=>[...n[20]||(n[20]=[c("确定",-1)])]),_:1},8,["onClick"])])]),default:o(()=>[e(h,{ref:"contentFormRef",model:t.contentForm,rules:t.contentRules,"label-width":"120px"},{default:o(()=>[e(s,{label:"标题",prop:"title"},{default:o(()=>[e(g,{modelValue:t.contentForm.title,"onUpdate:modelValue":n[3]||(n[3]=l=>t.contentForm.title=l),placeholder:"请输入内容标题"},null,8,["modelValue"])]),_:1}),e(s,{label:"内容类型",prop:"contentType"},{default:o(()=>[e(m,{modelValue:t.contentForm.contentType,"onUpdate:modelValue":n[4]||(n[4]=l=>t.contentForm.contentType=l),placeholder:"请选择内容类型"},{default:o(()=>[e(r,{label:"文章",value:"article"}),e(r,{label:"公告",value:"notice"}),e(r,{label:"新闻",value:"news"})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"作者",prop:"author"},{default:o(()=>[e(g,{modelValue:t.contentForm.author,"onUpdate:modelValue":n[5]||(n[5]=l=>t.contentForm.author=l),placeholder:"请输入作者"},null,8,["modelValue"])]),_:1}),e(s,{label:"内容摘要",prop:"summary"},{default:o(()=>[e(g,{modelValue:t.contentForm.summary,"onUpdate:modelValue":n[6]||(n[6]=l=>t.contentForm.summary=l),type:"textarea",placeholder:"请输入内容摘要"},null,8,["modelValue"])]),_:1}),e(s,{label:"内容详情",prop:"content"},{default:o(()=>[e(g,{modelValue:t.contentForm.content,"onUpdate:modelValue":n[7]||(n[7]=l=>t.contentForm.content=l),type:"textarea",rows:10,placeholder:"请输入内容详情"},null,8,["modelValue"])]),_:1}),e(s,{label:"内容状态",prop:"status"},{default:o(()=>[e(m,{modelValue:t.contentForm.status,"onUpdate:modelValue":n[8]||(n[8]=l=>t.contentForm.status=l),placeholder:"请选择内容状态"},{default:o(()=>[e(r,{label:"已发布",value:"1"}),e(r,{label:"草稿",value:"0"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}const W=q(E,[["render",G],["__scopeId","data-v-76731928"]]);export{W as default};
