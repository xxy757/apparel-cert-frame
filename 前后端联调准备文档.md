# å‰åç«¯è”è°ƒå‡†å¤‡æ–‡æ¡£

## âœ… å·²å®Œæˆçš„ä¿®æ”¹

### 1. **Login.vue - ç™»å½•åŠŸèƒ½**

#### ä¿®æ”¹å†…å®¹ï¼š
- âœ… æ·»åŠ  `import request from '../utils/request'`
- âœ… ç§»é™¤ mock ç™»å½•é€»è¾‘
- âœ… æ·»åŠ çœŸå® API è°ƒç”¨ï¼š`POST /api/auth/login`
- âœ… æ·»åŠ è¡¨å•éªŒè¯é€»è¾‘
- âœ… ä¿å­˜åç«¯è¿”å›çš„ token å’Œç”¨æˆ·ä¿¡æ¯åˆ° localStorage

#### API è¯·æ±‚æ ¼å¼ï¼š
```javascript
POST /api/auth/login
{
  "username": "string",
  "password": "string",
  "userType": 1  // 1=ä¸ªäººç”¨æˆ·, 2=ä¼ä¸šç”¨æˆ·
}
```

#### é¢„æœŸå“åº”æ ¼å¼ï¼š
```javascript
{
  "code": 200,
  "data": {
    "token": "jwt_token_string",
    "userId": "user_id",
    ...
  }
}
```

---

### 2. **Register.vue - æ³¨å†ŒåŠŸèƒ½**

#### ä¿®æ”¹å†…å®¹ï¼š
- âœ… æ·»åŠ  `import request from '../utils/request'`
- âœ… ç§»é™¤ setTimeout æ¨¡æ‹Ÿæ³¨å†Œ
- âœ… æ·»åŠ çœŸå® API è°ƒç”¨ï¼š`POST /api/auth/register`
- âœ… åŒºåˆ†ä¸ªäººå’Œä¼ä¸šç”¨æˆ·å­—æ®µ
- âœ… æ³¨å†ŒæˆåŠŸåè·³è½¬åˆ°ç™»å½•é¡µ

#### API è¯·æ±‚æ ¼å¼ï¼ˆä¸ªäººç”¨æˆ·ï¼‰ï¼š
```javascript
POST /api/auth/register
{
  "username": "string",
  "password": "string",
  "userType": 1,
  "name": "string",
  "phone": "string",
  "email": "string",
  "careerDirection": "string"
}
```

#### API è¯·æ±‚æ ¼å¼ï¼ˆä¼ä¸šç”¨æˆ·ï¼‰ï¼š
```javascript
POST /api/auth/register
{
  "username": "string",
  "password": "string",
  "userType": 2,
  "companyName": "string",
  "companyType": "string",
  "contactPerson": "string",
  "contactPhone": "string",
  "email": "string",
  "address": "string"
}
```

---

### 3. **personal/Resume.vue - ç®€å†ç®¡ç†**

#### ä¿®æ”¹å†…å®¹ï¼š
- âœ… æ·»åŠ  `import request from '../../utils/request'`
- âœ… ç§»é™¤ç¡¬ç¼–ç çš„å¼ ä¸‰ç®€å†æ•°æ®
- âœ… åˆå§‹åŒ–ä¸ºç©ºæ•°æ®ç»“æ„
- âœ… æ·»åŠ  `loadResume()` å‡½æ•°ï¼š`GET /api/resume/current`
- âœ… ä¿®æ”¹ `saveResume()` å‡½æ•°ï¼š`PUT /api/resume`
- âœ… ä¿®æ”¹ `exportResume()` å‡½æ•°ï¼š`GET /api/resume/export`ï¼ˆè¿”å› PDF blobï¼‰
- âœ… ä¿®æ”¹ `togglePublic()` å‡½æ•°ï¼š`PUT /api/resume/public`
- âœ… æ·»åŠ  `onMounted` ç”Ÿå‘½å‘¨æœŸé’©å­è‡ªåŠ¨åŠ è½½ç®€å†
- âœ… æ·»åŠ  loading çŠ¶æ€å’Œç©ºçŠ¶æ€æç¤º

#### API æ¥å£ï¼š

**1. è·å–å½“å‰ç”¨æˆ·ç®€å†**
```javascript
GET /api/resume/current
Response: {
  "code": 200,
  "data": {
    "basicInfo": { ... },
    "education": [ ... ],
    "workExperience": [ ... ],
    "projectExperience": [ ... ],
    "skills": [ ... ],
    "certificates": [ ... ],
    "isPublic": boolean
  }
}
```

**2. ä¿å­˜/æ›´æ–°ç®€å†**
```javascript
PUT /api/resume
Body: {
  "basicInfo": { ... },
  "education": [ ... ],
  ...
}
```

**3. å¯¼å‡ºç®€å† PDF**
```javascript
GET /api/resume/export
Response: Binary PDF file (Content-Type: application/pdf)
```

**4. è®¾ç½®ç®€å†å…¬å¼€çŠ¶æ€**
```javascript
PUT /api/resume/public
Body: {
  "isPublic": true/false
}
```

---

## ğŸ”§ request.js å·¥å…·é…ç½®

### ç‰¹æ€§ï¼š
- âœ… baseURL: `/api`
- âœ… è‡ªåŠ¨æ·»åŠ  `Authorization: Bearer ${token}` è¯·æ±‚å¤´
- âœ… è‡ªåŠ¨å¤„ç† 401 é”™è¯¯ï¼ˆæ¸…é™¤ token å¹¶è·³è½¬ç™»å½•é¡µï¼‰
- âœ… ç»Ÿä¸€é”™è¯¯æç¤ºï¼ˆElMessageï¼‰
- âœ… å“åº”æ‹¦æˆªå™¨æ£€æŸ¥ `response.data.code`

### ä½¿ç”¨æ–¹æ³•ï¼š
```javascript
import request from '@/utils/request'

// GET è¯·æ±‚
const data = await request.get('/endpoint')

// POST è¯·æ±‚
const data = await request.post('/endpoint', { key: 'value' })

// PUT è¯·æ±‚
const data = await request.put('/endpoint', { key: 'value' })

// DELETE è¯·æ±‚
const data = await request.delete('/endpoint')
```

---

## ğŸ“‹ åç«¯éœ€è¦æä¾›çš„æ¥å£æ¸…å•

### è®¤è¯æ¨¡å—ï¼š
- [x] `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- [x] `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ

### ç®€å†æ¨¡å—ï¼š
- [ ] `GET /api/resume/current` - è·å–å½“å‰ç”¨æˆ·ç®€å†
- [ ] `PUT /api/resume` - ä¿å­˜/æ›´æ–°ç®€å†
- [ ] `GET /api/resume/export` - å¯¼å‡ºç®€å†PDF
- [ ] `PUT /api/resume/public` - è®¾ç½®ç®€å†å…¬å¼€çŠ¶æ€

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **åç«¯å“åº”æ ¼å¼ç»Ÿä¸€**ï¼š
   ```javascript
   {
     "code": 200,  // 200=æˆåŠŸï¼Œå…¶ä»–=å¤±è´¥
     "message": "æ“ä½œæˆåŠŸ",
     "data": { ... }
   }
   ```

2. **Tokenæ ¼å¼**ï¼šåç«¯è¿”å›çš„ token åº”è¯¥æ˜¯çº¯å­—ç¬¦ä¸²ï¼Œå‰ç«¯ä¼šè‡ªåŠ¨æ·»åŠ  `Bearer ` å‰ç¼€

3. **ç”¨æˆ·ç±»å‹ç¼–ç **ï¼š
   - `1` = ä¸ªäººç”¨æˆ·ï¼ˆuserType: 1ï¼‰
   - `2` = ä¼ä¸šç”¨æˆ·ï¼ˆuserType: 2ï¼‰

4. **é”™è¯¯å¤„ç†**ï¼šåç«¯è¿”å›çš„é”™è¯¯ä¿¡æ¯ä¼šé€šè¿‡ `ElMessage.error()` æ˜¾ç¤ºç»™ç”¨æˆ·

5. **CORSé…ç½®**ï¼šåç«¯éœ€è¦å…è®¸å‰ç«¯åŸŸåçš„è·¨åŸŸè¯·æ±‚

---

## ğŸš€ ä¸‹ä¸€æ­¥å·¥ä½œ

- [ ] å¯åŠ¨åç«¯æœåŠ¡ï¼ˆç¡®ä¿ç«¯å£ 8080ï¼‰
- [ ] æµ‹è¯•æ³¨å†ŒåŠŸèƒ½
- [ ] æµ‹è¯•ç™»å½•åŠŸèƒ½
- [ ] æµ‹è¯•ç®€å†CRUDåŠŸèƒ½
- [ ] æµ‹è¯•PDFå¯¼å‡ºåŠŸèƒ½
- [ ] æ£€æŸ¥æ‰€æœ‰é”™è¯¯å¤„ç†æ˜¯å¦æ­£å¸¸


